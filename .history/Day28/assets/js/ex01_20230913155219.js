const lyric = `{
    "err": 0,
    "msg": "Success",
    "data": {
      "sentences": [
        {
          "words": [
            {
              "startTime": 13520,
              "endTime": 13520,
              "data": "Cần"
            },
            {
              "startTime": 13520,
              "endTime": 13780,
              "data": "điều"
            },
            {
              "startTime": 13780,
              "endTime": 14040,
              "data": "gì"
            },
            {
              "startTime": 14040,
              "endTime": 14300,
              "data": "thì"
            },
            {
              "startTime": 14300,
              "endTime": 14580,
              "data": "nói"
            },
            {
              "startTime": 14580,
              "endTime": 16710,
              "data": "ra"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 16710,
              "endTime": 16980,
              "data": "Sự"
            },
            {
              "startTime": 16980,
              "endTime": 17250,
              "data": "thật"
            },
            {
              "startTime": 17250,
              "endTime": 17250,
              "data": "đẹp"
            },
            {
              "startTime": 17250,
              "endTime": 17510,
              "data": "tựa"
            },
            {
              "startTime": 17510,
              "endTime": 17770,
              "data": "đóa"
            },
            {
              "startTime": 17770,
              "endTime": 20170,
              "data": "hoa"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 20170,
              "endTime": 20170,
              "data": "Điều"
            },
            {
              "startTime": 20170,
              "endTime": 20440,
              "data": "gì"
            },
            {
              "startTime": 20440,
              "endTime": 20700,
              "data": "cần"
            },
            {
              "startTime": 20700,
              "endTime": 20960,
              "data": "phải"
            },
            {
              "startTime": 20960,
              "endTime": 21220,
              "data": "nói"
            },
            {
              "startTime": 21220,
              "endTime": 23420,
              "data": "ra"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 23420,
              "endTime": 23680,
              "data": "Để"
            },
            {
              "startTime": 23680,
              "endTime": 23950,
              "data": "mình"
            },
            {
              "startTime": 23950,
              "endTime": 24210,
              "data": "trở"
            },
            {
              "startTime": 24210,
              "endTime": 24480,
              "data": "thành"
            },
            {
              "startTime": 24480,
              "endTime": 24750,
              "data": "chúng"
            },
            {
              "startTime": 24750,
              "endTime": 26640,
              "data": "ta"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 26640,
              "endTime": 26910,
              "data": "I'm"
            },
            {
              "startTime": 26910,
              "endTime": 27170,
              "data": "doing"
            },
            {
              "startTime": 27170,
              "endTime": 27430,
              "data": "thing"
            },
            {
              "startTime": 27430,
              "endTime": 29300,
              "data": "slowly"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 29300,
              "endTime": 29560,
              "data": "Khi"
            },
            {
              "startTime": 29560,
              "endTime": 29820,
              "data": "hai"
            },
            {
              "startTime": 29820,
              "endTime": 29820,
              "data": "chân"
            },
            {
              "startTime": 29820,
              "endTime": 30100,
              "data": "đang"
            },
            {
              "startTime": 30100,
              "endTime": 30360,
              "data": "đi"
            },
            {
              "startTime": 30360,
              "endTime": 30620,
              "data": "hướng"
            },
            {
              "startTime": 30620,
              "endTime": 30880,
              "data": "trái"
            },
            {
              "startTime": 30880,
              "endTime": 33290,
              "data": "tim"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 33290,
              "endTime": 33560,
              "data": "I'm"
            },
            {
              "startTime": 33560,
              "endTime": 33830,
              "data": "doing"
            },
            {
              "startTime": 33830,
              "endTime": 34090,
              "data": "thing"
            },
            {
              "startTime": 34090,
              "endTime": 36220,
              "data": "slowly"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 36220,
              "endTime": 36480,
              "data": "Khi"
            },
            {
              "startTime": 36480,
              "endTime": 36740,
              "data": "môi"
            },
            {
              "startTime": 36740,
              "endTime": 36740,
              "data": "em"
            },
            {
              "startTime": 36740,
              "endTime": 37020,
              "data": "trôi"
            },
            {
              "startTime": 37020,
              "endTime": 37280,
              "data": "qua"
            },
            {
              "startTime": 37280,
              "endTime": 37540,
              "data": "như"
            },
            {
              "startTime": 37540,
              "endTime": 37810,
              "data": "cuốn"
            },
            {
              "startTime": 37810,
              "endTime": 39670,
              "data": "phim"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 39670,
              "endTime": 39930,
              "data": "Cuốn"
            },
            {
              "startTime": 39930,
              "endTime": 39930,
              "data": "không"
            },
            {
              "startTime": 39930,
              "endTime": 40200,
              "data": "gian"
            },
            {
              "startTime": 40200,
              "endTime": 40470,
              "data": "lại"
            },
            {
              "startTime": 40470,
              "endTime": 40470,
              "data": "thân"
            },
            {
              "startTime": 40470,
              "endTime": 40730,
              "data": "mình"
            },
            {
              "startTime": 40730,
              "endTime": 40990,
              "data": "va"
            },
            {
              "startTime": 40990,
              "endTime": 40990,
              "data": "vào"
            },
            {
              "startTime": 40990,
              "endTime": 41530,
              "data": "nhau"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 41530,
              "endTime": 42150,
              "data": "Mau"
            },
            {
              "startTime": 42150,
              "endTime": 42420,
              "data": "đốt"
            },
            {
              "startTime": 42420,
              "endTime": 42420,
              "data": "trụi"
            },
            {
              "startTime": 42420,
              "endTime": 42690,
              "data": "bao"
            },
            {
              "startTime": 42690,
              "endTime": 42950,
              "data": "khổ"
            },
            {
              "startTime": 42950,
              "endTime": 43220,
              "data": "đau"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 43220,
              "endTime": 43480,
              "data": "Người"
            },
            {
              "startTime": 43480,
              "endTime": 43850,
              "data": "đừng"
            },
            {
              "startTime": 43850,
              "endTime": 44120,
              "data": "nói"
            },
            {
              "startTime": 44120,
              "endTime": 44120,
              "data": "hãy"
            },
            {
              "startTime": 44120,
              "endTime": 44380,
              "data": "ôm"
            },
            {
              "startTime": 44380,
              "endTime": 44650,
              "data": "thật"
            },
            {
              "startTime": 44650,
              "endTime": 44900,
              "data": "lâu"
            },
            {
              "startTime": 44900,
              "endTime": 45440,
              "data": "bae"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 45440,
              "endTime": 45440,
              "data": "Đến"
            },
            {
              "startTime": 45440,
              "endTime": 45720,
              "data": "khi"
            },
            {
              "startTime": 45720,
              "endTime": 45980,
              "data": "nắng"
            },
            {
              "startTime": 45980,
              "endTime": 46240,
              "data": "không"
            },
            {
              "startTime": 46240,
              "endTime": 47350,
              "data": "màu"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 47350,
              "endTime": 47620,
              "data": "I'm"
            },
            {
              "startTime": 47620,
              "endTime": 47620,
              "data": "doing"
            },
            {
              "startTime": 47620,
              "endTime": 48150,
              "data": "things"
            },
            {
              "startTime": 48150,
              "endTime": 50010,
              "data": "slowly"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 50010,
              "endTime": 50010,
              "data": "Đôi"
            },
            {
              "startTime": 50010,
              "endTime": 50280,
              "data": "khi"
            },
            {
              "startTime": 50280,
              "endTime": 50540,
              "data": "ta"
            },
            {
              "startTime": 50540,
              "endTime": 50540,
              "data": "cứ"
            },
            {
              "startTime": 50540,
              "endTime": 50810,
              "data": "thế"
            },
            {
              "startTime": 50810,
              "endTime": 51080,
              "data": "chẳng"
            },
            {
              "startTime": 51080,
              "endTime": 51340,
              "data": "bước"
            },
            {
              "startTime": 51340,
              "endTime": 53200,
              "data": "đi"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 53200,
              "endTime": 53200,
              "data": "Đôi"
            },
            {
              "startTime": 53200,
              "endTime": 53460,
              "data": "khi"
            },
            {
              "startTime": 53460,
              "endTime": 53730,
              "data": "ta"
            },
            {
              "startTime": 53730,
              "endTime": 53990,
              "data": "cứ"
            },
            {
              "startTime": 53990,
              "endTime": 56990,
              "data": "thế"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 68260,
              "endTime": 68520,
              "data": "Vài"
            },
            {
              "startTime": 68520,
              "endTime": 68520,
              "data": "lần"
            },
            {
              "startTime": 68520,
              "endTime": 68790,
              "data": "tìm"
            },
            {
              "startTime": 68790,
              "endTime": 69060,
              "data": "được"
            },
            {
              "startTime": 69060,
              "endTime": 69320,
              "data": "lối"
            },
            {
              "startTime": 69320,
              "endTime": 71540,
              "data": "ra"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 71540,
              "endTime": 71810,
              "data": "Đường"
            },
            {
              "startTime": 71810,
              "endTime": 72080,
              "data": "về"
            },
            {
              "startTime": 72080,
              "endTime": 72080,
              "data": "dài"
            },
            {
              "startTime": 72080,
              "endTime": 72340,
              "data": "một"
            },
            {
              "startTime": 72340,
              "endTime": 72610,
              "data": "lối"
            },
            {
              "startTime": 72610,
              "endTime": 74770,
              "data": "hoa"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 74770,
              "endTime": 75040,
              "data": "Vài"
            },
            {
              "startTime": 75040,
              "endTime": 75320,
              "data": "lần"
            },
            {
              "startTime": 75320,
              "endTime": 75570,
              "data": "buồn"
            },
            {
              "startTime": 75570,
              "endTime": 75840,
              "data": "chờ"
            },
            {
              "startTime": 75840,
              "endTime": 76100,
              "data": "tối"
            },
            {
              "startTime": 76100,
              "endTime": 78510,
              "data": "qua"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 78510,
              "endTime": 78510,
              "data": "Khi"
            },
            {
              "startTime": 78510,
              "endTime": 78780,
              "data": "mà"
            },
            {
              "startTime": 78780,
              "endTime": 79040,
              "data": "người"
            },
            {
              "startTime": 79040,
              "endTime": 79310,
              "data": "từ"
            },
            {
              "startTime": 79310,
              "endTime": 79580,
              "data": "chối"
            },
            {
              "startTime": 79580,
              "endTime": 81530,
              "data": "ta"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 81530,
              "endTime": 81790,
              "data": "I'm"
            },
            {
              "startTime": 81790,
              "endTime": 81790,
              "data": "doing"
            },
            {
              "startTime": 81790,
              "endTime": 82320,
              "data": "thing"
            },
            {
              "startTime": 82320,
              "endTime": 84240,
              "data": "slowly"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 84240,
              "endTime": 84520,
              "data": "Khi"
            },
            {
              "startTime": 84520,
              "endTime": 84520,
              "data": "hai"
            },
            {
              "startTime": 84520,
              "endTime": 84780,
              "data": "chân"
            },
            {
              "startTime": 84780,
              "endTime": 85040,
              "data": "đang"
            },
            {
              "startTime": 85040,
              "endTime": 85300,
              "data": "đi"
            },
            {
              "startTime": 85300,
              "endTime": 85570,
              "data": "hướng"
            },
            {
              "startTime": 85570,
              "endTime": 85840,
              "data": "trái"
            },
            {
              "startTime": 85840,
              "endTime": 88260,
              "data": "tim"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 88260,
              "endTime": 88260,
              "data": "I'm"
            },
            {
              "startTime": 88260,
              "endTime": 88530,
              "data": "doing"
            },
            {
              "startTime": 88530,
              "endTime": 89060,
              "data": "thing"
            },
            {
              "startTime": 89060,
              "endTime": 90980,
              "data": "slowly"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 90980,
              "endTime": 91250,
              "data": "Khi"
            },
            {
              "startTime": 91250,
              "endTime": 91250,
              "data": "môi"
            },
            {
              "startTime": 91250,
              "endTime": 91510,
              "data": "em"
            },
            {
              "startTime": 91510,
              "endTime": 91780,
              "data": "trôi"
            },
            {
              "startTime": 91780,
              "endTime": 92040,
              "data": "qua"
            },
            {
              "startTime": 92040,
              "endTime": 92300,
              "data": "như"
            },
            {
              "startTime": 92300,
              "endTime": 92570,
              "data": "cuốn"
            },
            {
              "startTime": 92570,
              "endTime": 94280,
              "data": "phim"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 94280,
              "endTime": 94540,
              "data": "Cuốn"
            },
            {
              "startTime": 94540,
              "endTime": 94810,
              "data": "không"
            },
            {
              "startTime": 94810,
              "endTime": 94810,
              "data": "gian"
            },
            {
              "startTime": 94810,
              "endTime": 95080,
              "data": "lại"
            },
            {
              "startTime": 95080,
              "endTime": 95340,
              "data": "thân"
            },
            {
              "startTime": 95340,
              "endTime": 95340,
              "data": "mình"
            },
            {
              "startTime": 95340,
              "endTime": 95610,
              "data": "va"
            },
            {
              "startTime": 95610,
              "endTime": 95920,
              "data": "vào"
            },
            {
              "startTime": 95920,
              "endTime": 96450,
              "data": "nhau"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 96450,
              "endTime": 96710,
              "data": "Mau"
            },
            {
              "startTime": 96710,
              "endTime": 96970,
              "data": "đốt"
            },
            {
              "startTime": 96970,
              "endTime": 97250,
              "data": "trụi"
            },
            {
              "startTime": 97250,
              "endTime": 97510,
              "data": "bao"
            },
            {
              "startTime": 97510,
              "endTime": 97770,
              "data": "khổ"
            },
            {
              "startTime": 97770,
              "endTime": 98040,
              "data": "đau"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 98040,
              "endTime": 98310,
              "data": "Người"
            },
            {
              "startTime": 98310,
              "endTime": 98570,
              "data": "đừng"
            },
            {
              "startTime": 98570,
              "endTime": 98840,
              "data": "nói"
            },
            {
              "startTime": 98840,
              "endTime": 98840,
              "data": "hãy"
            },
            {
              "startTime": 98840,
              "endTime": 99110,
              "data": "ôm"
            },
            {
              "startTime": 99110,
              "endTime": 99360,
              "data": "thật"
            },
            {
              "startTime": 99360,
              "endTime": 99640,
              "data": "lâu"
            },
            {
              "startTime": 99640,
              "endTime": 100160,
              "data": "bae"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 100160,
              "endTime": 100430,
              "data": "Đến"
            },
            {
              "startTime": 100430,
              "endTime": 100700,
              "data": "khi"
            },
            {
              "startTime": 100700,
              "endTime": 100960,
              "data": "nắng"
            },
            {
              "startTime": 100960,
              "endTime": 100960,
              "data": "không"
            },
            {
              "startTime": 100960,
              "endTime": 102030,
              "data": "màu"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 102030,
              "endTime": 102290,
              "data": "I'm"
            },
            {
              "startTime": 102290,
              "endTime": 102290,
              "data": "doing"
            },
            {
              "startTime": 102290,
              "endTime": 102820,
              "data": "things"
            },
            {
              "startTime": 102820,
              "endTime": 104470,
              "data": "slowly"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 104470,
              "endTime": 104730,
              "data": "Đôi"
            },
            {
              "startTime": 104730,
              "endTime": 104990,
              "data": "khi"
            },
            {
              "startTime": 104990,
              "endTime": 104990,
              "data": "ta"
            },
            {
              "startTime": 104990,
              "endTime": 105260,
              "data": "cứ"
            },
            {
              "startTime": 105260,
              "endTime": 105790,
              "data": "thế"
            },
            {
              "startTime": 105790,
              "endTime": 106060,
              "data": "chẳng"
            },
            {
              "startTime": 106060,
              "endTime": 106320,
              "data": "bước"
            },
            {
              "startTime": 106320,
              "endTime": 108000,
              "data": "đi"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 108000,
              "endTime": 108000,
              "data": "Đôi"
            },
            {
              "startTime": 108000,
              "endTime": 108260,
              "data": "khi"
            },
            {
              "startTime": 108260,
              "endTime": 108520,
              "data": "ta"
            },
            {
              "startTime": 108520,
              "endTime": 108800,
              "data": "cứ"
            },
            {
              "startTime": 108800,
              "endTime": 111800,
              "data": "thế"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 121990,
              "endTime": 122260,
              "data": "Cuốn"
            },
            {
              "startTime": 122260,
              "endTime": 122260,
              "data": "không"
            },
            {
              "startTime": 122260,
              "endTime": 122530,
              "data": "gian"
            },
            {
              "startTime": 122530,
              "endTime": 122530,
              "data": "lại"
            },
            {
              "startTime": 122530,
              "endTime": 122790,
              "data": "thân"
            },
            {
              "startTime": 122790,
              "endTime": 123060,
              "data": "mình"
            },
            {
              "startTime": 123060,
              "endTime": 123060,
              "data": "va"
            },
            {
              "startTime": 123060,
              "endTime": 123320,
              "data": "vào"
            },
            {
              "startTime": 123320,
              "endTime": 123700,
              "data": "nhau"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 123700,
              "endTime": 124220,
              "data": "Mau"
            },
            {
              "startTime": 124220,
              "endTime": 124490,
              "data": "đốt"
            },
            {
              "startTime": 124490,
              "endTime": 124490,
              "data": "trụi"
            },
            {
              "startTime": 124490,
              "endTime": 124740,
              "data": "bao"
            },
            {
              "startTime": 124740,
              "endTime": 125020,
              "data": "khổ"
            },
            {
              "startTime": 125020,
              "endTime": 125540,
              "data": "đau"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 125540,
              "endTime": 125800,
              "data": "Người"
            },
            {
              "startTime": 125800,
              "endTime": 125800,
              "data": "đừng"
            },
            {
              "startTime": 125800,
              "endTime": 126080,
              "data": "nói"
            },
            {
              "startTime": 126080,
              "endTime": 126340,
              "data": "hãy"
            },
            {
              "startTime": 126340,
              "endTime": 126340,
              "data": "ôm"
            },
            {
              "startTime": 126340,
              "endTime": 126610,
              "data": "thật"
            },
            {
              "startTime": 126610,
              "endTime": 127140,
              "data": "lâu"
            },
            {
              "startTime": 127140,
              "endTime": 127680,
              "data": "bae"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 127680,
              "endTime": 127930,
              "data": "Đến"
            },
            {
              "startTime": 127930,
              "endTime": 127930,
              "data": "khi"
            },
            {
              "startTime": 127930,
              "endTime": 128190,
              "data": "nắng"
            },
            {
              "startTime": 128190,
              "endTime": 128470,
              "data": "không"
            },
            {
              "startTime": 128470,
              "endTime": 129260,
              "data": "màu"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 129260,
              "endTime": 129530,
              "data": "I'm"
            },
            {
              "startTime": 129530,
              "endTime": 129790,
              "data": "doing"
            },
            {
              "startTime": 129790,
              "endTime": 130060,
              "data": "things"
            },
            {
              "startTime": 130060,
              "endTime": 131920,
              "data": "slowly"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 131920,
              "endTime": 132190,
              "data": "Đôi"
            },
            {
              "startTime": 132190,
              "endTime": 132440,
              "data": "khi"
            },
            {
              "startTime": 132440,
              "endTime": 132440,
              "data": "ta"
            },
            {
              "startTime": 132440,
              "endTime": 132720,
              "data": "cứ"
            },
            {
              "startTime": 132720,
              "endTime": 133250,
              "data": "thế"
            },
            {
              "startTime": 133250,
              "endTime": 133250,
              "data": "chẳng"
            },
            {
              "startTime": 133250,
              "endTime": 133530,
              "data": "bước"
            },
            {
              "startTime": 133530,
              "endTime": 135390,
              "data": "đi"
            }
          ]
        },
        {
          "words": [
            {
              "startTime": 135390,
              "endTime": 135390,
              "data": "Đôi"
            },
            {
              "startTime": 135390,
              "endTime": 135650,
              "data": "khi"
            },
            {
              "startTime": 135650,
              "endTime": 135910,
              "data": "ta"
            },
            {
              "startTime": 135910,
              "endTime": 136190,
              "data": "cứ"
            },
            {
              "startTime": 136190,
              "endTime": 137190,
              "data": "thế"
            }
          ]
        }
      ],`;

const btnPlay = document.querySelector(".btn-play");
const progressBar = document.querySelector(".progress-bar");
const progress = progressBar.querySelector(".progress");
const progressDot = progress.querySelector("span");

//get width progress bar
const progressBarWidth = progressBar.clientWidth;
//set progress-width
const setProgressWidth = function (value) {
  if (value <= 0) {
    value = 0;
  }
  if (value >= 100) {
    value = 100;
  }
  progress.style.width = `${value}%`;
};
//set value

// đặt cờ isMountDown
let isMountDown = false;
// Biến currentvalue
let currentValue = 0;
//Tính khoảng cách từ progress bar đến viền
let progressDistance = 0;
const calculateProgressDistance = function (e) {
  if (progressDistance === 0 && currentValue === 0) {
    progressDistance = e.clientX;
  } else {
    progressDistance = e.clientX - e.offsetX;
  }
};

//Thay doi khi move
const setProgressWidth = function (e) {
  let offsetX = e.clientX - progressDistance;
  value = (offsetX * 100) / progressBarWidth;
  currentValue = value;
  setProgressWidth(value);
};

progressBar.addEventListener("mousedown", function (e) {
  let offsetX = e.offsetX;
  let value = (offsetX * 100) / progressBarWidth;
  setProgressWidth(value);
  isMountDown = true;
});
progressDot.addEventListener("mousedown", function (e) {
  e.stopPropagation();
  isMountDown = true;
});
document.addEventListener("mouseup", function () {
  isMountDown = false;
});

document.addEventListener("mousemove", function (e) {
  if (isMountDown) {
    setProgressWidth(e);
  }
});
progressBar.addEventListener("mousemove", function (e) {
  e.stopPropagation();
  if (isMountDown) {
    setProgressWidth(e);
  }
});
progressDot.addEventListener("mousemove", function (e) {
  e.stopPropagation();
});
